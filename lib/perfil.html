<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>nevlek ecomerce</title>
  <link rel="stylesheet" href="/Nshop/css/index.css">
  <style>
  body {
    height: 100vh;
  }
  .container {
    padding: 12px 16px;
    margin: 10px auto 0 auto;
    width: calc(100% - 1.5rem);
    max-width: 900px;
    box-sizing: border-box;
    margin-top: 60px;
  }
    .profile {
      display: flex;
      align-items: center;
      gap: 12px;
      background: var(--bag-perfil);
      height: 85px;
      padding: 6px;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    .profile img {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      object-fit: cover;
    }
    .profile span {
      font-size: 18px;
      font-weight: bold;
    }
    .profile button {
      margin-left: auto;
      padding: 6px 10px;
      cursor: pointer;
      border-radius: 4px;
      background: #00eeffc0;
      color: #fff;
      font-size: 1rem;
      font-weight: 500;
      border: none;
    }
    #toggle-button {
      height: 40px;
      font-size: 1.2rem;
      border-radius: 6px;
    }
     /* Modal de edição */
     .modal {
       display: none;
       text-align: center;
       background: var(--bg-modal-perfil);
       padding: 20px;
       margin-top: 20px;
       border-radius: 8px;
       box-shadow: 0 2px 10px rgba(0,0,0,0.2);
     }
     .modal h2 {
       margin-bottom: 10px;
     }
     .pics {
      display: flex;
      flex-wrap: wrap;
       gap: 10px;
       margin-bottom: 10px;
     }
     .pics img {
       width: 60px;
       height: 60px;
       border-radius: 50%;
       cursor: pointer;
       object-fit: cover;
     }
     input[type="file"] {
       margin-top: 10px;
     }
     input[type="text"] {
       width: 100%;
       padding: 6px;
       margin-top: 10pxx;
       border: 1px solid #ccc;
       border-radius: 6px;
     }
     .nomeInput {
       font-size: 480;
       background: var(--bg-input);
       color: var(--texto);
       height: 35px;
       font-family: italic;
       border-radius: 8px;
       border: 1px solid  #e4e4e4b7;
       box-shadow: rgba(6,4,4,0.718);
       margin-bottom: 5px;
       margin-top: 5px;
       outline: none;
     }
     .nomeInput:focus {
       border:1px solid #4c4c4cb7;
     }
     .nomeInput:hover {
       border: 1px solid #04b3c0ee;
     }
     .inputes {
       text-align: center;
       justify-content: center;
       margin-top: 8px;
       height: 30px;
       width: 100%;
     }
     .escolherArquivo {
       height: 100%;
       width: 100%;
       color: #fff;
       background: #2f2f2fc4;
       border-radius: 6px;
       font-size: 1em;
       border: none;
     }
     .buttons {
       display: flex;
       justify-content: space-between;
       margin-top: 15px;
     }
     .buttons button {
       padding: 5px 10px;
       cursor: pointer;
       color: #fff;
       background: #288313ed;
       border-radius: 9px;
       width: 100%;
       height: 38px;
       font-weight: 400;
       font-size: 1.2rem;
       border: none;
     }
  </style>
</head>
<body>
  <header>
    <nav class="navbar">
    <button class="toggle" aria-label="Abrir menu" aria-expanded="false">
      <span></span>
      <span></span>
      <span></span>
    </button>
    <div class="brand">
      <!-- <img src="imagem/logotipo/nvl_logo.png" alt="Logo" className="logo"> -->
      <span class="titulo" id="titulo">n<span>Shop</span></span>
    </div>
    <ul class="nav-links">
      <li><a href="/Nshop/index.html">Inicio</a></li>
      <li><a href="/Nshop/lib/perfil.html" id="linkPerfil">Perfil</a></li>
      <li><a href="/Nshop/lib/about.html">About</a></li>
      <li><a href="/Nshop/lib/perguntas.html">Ajuda</a></li>
    </ul>
  </nav>
	</header>
  <div class="container">
	<div class="profile">
	  <img src="/Nshop/imagem/avatar/default.webp" id="profile-pic" alt="Foto de perfil">
	  <span id="username">User<span id="user-id"></span></span>
	  <button id="toggle-button" onclick="openEditor()">Editar</button>
	</div>
	
	<div class="modal" id="editor">
	  <h2>Editar perfil</h2>
	  
	   <!-- Fotos do sistema -->
	   <div class="pics">
	     <img src="/Nshop/imagem/avatar/default.webp" onclick="setPic(this.src)" alt="imagem...">
	     <img src="/Nshop/imagem/avatar/user01.webp" onclick="setPic(this.src)" alt="imagem...">
	     <img src="/Nshop/imagem/avatar/user02.webp" onclick="setPic(this.src)" alt="imagem...">
	     <img src="/Nshop/imagem/avatar/user03.webp" onclick="setPic(this.src)" alt="imagem...">
	   </div>
	   
	   <div class="inputes">
	     <!-- Input escondido -->
	     <input type="file" id="fileInput" accept="image/*" onchange="uploadPic(event)" style="display: none;">

<!-- Botão estilizado -->
<button onclick="document.getElementById('fileInput').click()" class="escolherArquivo">Escolher imagem da galeria</button>
	   </div>

    <!-- Edição do nome -->
    <input type="text"  class="nomeInput" id="name-input" placeholder="Editar nome">
	    
	    <div class="buttons">
	      <button onclick="saveProfile()">salvar</button>
	    </div>
	</div>
	</div>
	
	
	<script src="/Nshop/js/index.js" defer></script>
   <script type="module" src="/Nshop/firebase-config.js"></script>
   <script type="module" src="/Nshop/auth.js"></script>
   <script type="module" src="/Nshop/modal-auth.js"></script>
   <script src="/Nshop/js/perfil.js" defer></script>

  <script>
  // JS para abrir/fechar menu MOBILE
  const toggle = document.querySelector('.toggle')
  const navLinks = document.querySelector('.nav-links')
  
  toggle.addEventListener('click', () => {
    const expanded = toggle.getAttribute('aria-expanded') === true
    toggle.setAttribute('aria-expanded', !expanded)
    navLinks.classList.toggle('open')
    toggle.classList.toggle('active')
  })
    // Fecha o menu ao aumentar tela
    window.addEventListener('resize', () => {
      if(window.innerWidth > 900) {
        navLinks.classList.remove('open')
        toggle.classList.remove('active')
        toggle.setAttribute('aria-expanded', false)
      }
    })
   // mantem o link seleçionado na navbar
const links = document.querySelectorAll('.nav-links a');
const currentPath = window.location.pathname.split('/').pop(); // pega só o arquivo atual

links.forEach(link => {
  const linkPath = link.getAttribute('href').split('/').pop(); // pega só o arquivo do link

  if (linkPath === currentPath) {
    link.classList.add('active');
  }
});

</script>

</body>
</html>